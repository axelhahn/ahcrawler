#
# GENERATED BY init.sh - template: templates/proxy-server-Dockerfile - 559d4f1ee8d7120cd296e53a0d9451db
#

FROM debian:latest

# install packages old
RUN apt-get update && apt-get install -y curl git unzip zip

# install packages
RUN rm -rf /var/lib/apt/lists/* 
RUN mkdir -p /var/cache/apt/archives/partial
RUN apt-get update
RUN apt-get install -y apache2

# enable mpm event
# RUN a2dismod mpm_prefork && a2enmod mpm_event

# enable apache modules
RUN a2enmod http2 ssl socache_shmcb proxy_fcgi headers rewrite

# Add entrypoint script and set permissions
COPY containers/proxy-server/dockerfile-entrypoint.sh /usr/local/bin/ 
RUN chmod +x /usr/local/bin/dockerfile-entrypoint.sh
ENTRYPOINT ["/usr/local/bin/dockerfile-entrypoint.sh"]

CMD /usr/sbin/apachectl -X
